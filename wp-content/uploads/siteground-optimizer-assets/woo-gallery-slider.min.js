(function(a){'use strict';jQuery(function(){a.fn.wpgspimagesLoaded=function(){var b=this.find('img[src!=""]'),c;return b.length?(c=[],b.each(function(){var b=a.Deferred(),d;c.push(b),d=new Image,d.onload=function(){b.resolve()},d.onerror=function(){b.resolve()},d.src=this.src}),a.when.apply(a,c)):a.Deferred().resolve().promise()};var b=wcgs_object.wcgs_settings,n=wcgs_object.wcgs_product_wrapper,m=parseInt(wcgs_object.wcgs_body_font_size),d=0,c=0;function g(e){var d=e>100?'px':'%',r,p,n,l,j,k,g,i,o,h,q,f,s,t,u,v,w;a(window).width()<992&&b.gallery_responsive_width.width>0&&(d=b.gallery_responsive_width.unit),a(window).width()<768&&(d=b.gallery_responsive_width.unit),setTimeout(function(){var f,b;'%'===d?(c=100-e,c=c>20?'calc( '+c+'% - 30px )':''):(f=a('#wpgs-gallery').parent('*'),b=f.width()>a('#wpgs-gallery').width()+100?f.width():0,c=b>200?b-e:0,c=c>150?c-35+d:'','em'===d&&(b=b/m,c=b>e?b-e:0,c=c>12?c-3+d:'')),a('#wpgs-gallery ~ .summary').css('maxWidth',c)},100),a("#wpgs-gallery").css('minWidth','auto').css('maxWidth',e+d),r=a("#wpgs-gallery").find('.gallery-navigation-carousel .wcgs-thumb').length,p=parseInt(b.thumbnails_item_to_show),n=b.adaptive_height=='1',l=b.accessibility=='1',j=b.pagination=='1',k=b.navigation=='1',g=!!(b.slider_dir=='1'||a('body').hasClass('rtl')),i=b.infinite_loop=='1',o=b.thumbnailnavigation==1,h=b.slide_orientation=='vertical',r==1?a("#wpgs-gallery").find('.gallery-navigation-carousel').hide():a("#wpgs-gallery").find('.gallery-navigation-carousel').show(),q=a('.wcgs-carousel:not(.slick-initialized) .wcgs-slider-image').length,q>0&&(typeof a.fn.slick=='function'?a('.wcgs-carousel:not(.slick-initialized)').slick({slidesToShow:1,infinite:i,accessibility:l,autoplay:!1,slidesToScroll:1,speed:300,rtl:b.slide_orientation!='vertical'&&g,rows:0,vertical:h,adaptiveHeight:n,arrows:k,fade:!1,dots:j,focusOnSelect:!0,asNavFor:'.gallery-navigation-carousel',prevArrow:'<a class="sp_wgs-icon-left-open" data-role="none" aria-label="Prev slide"></a>',nextArrow:'<a class="sp_wgs-icon-right-open" data-role="none" aria-label="Next slide"></a>'}):console.log('slick is not loaded')),typeof a.fn.slick=='function'?a('.gallery-navigation-carousel:not(.slick-initialized)').slick({infinite:i,slidesToShow:p,slidesToScroll:1,asNavFor:'.wcgs-carousel',vertical:!1,verticalSwiping:!1,centerMode:!1,centerPadding:'0',rtl:g,rows:0,arrows:o,focusOnSelect:!0,prevArrow:'<a class="sp_wgs_thumb_nav sp_wgs-icon-left-open" data-role="none" aria-label="Prev slide"></a>',nextArrow:'<a class="sp_wgs_thumb_nav sp_wgs-icon-right-open" data-role="none" aria-label="Next slide"></a>'}):console.log('slick is not loaded'),a(document).on('click','.wcgs-carousel .wcgs-lightbox',function(b){a(document).find('.wcgs-carousel .slick-current.slick-active').trigger('click')}),h&&(f=0,a('#wpgs-gallery .wcgs-carousel .wcgs-slider-image').each(function(){a(this).height()>f&&(f=a(this).innerHeight())}),a('#wpgs-gallery .wcgs-carousel .wcgs-slider-image').height(f),a('#wpgs-gallery .wcgs-carousel .wcgs-slider-image').css({display:"flex","justify-content":"center","align-items":"center"})),a('body').hasClass('theme-savoy')&&(s=['.sp_wgs-icon-left-open','.sp_wgs-icon-right-open','.sp_wgs-icon-left-open','.sp_wgs-icon-right-open'],a.each(s,function(c,b){a('#wpgs-gallery '+b).addClass('slick-arrow')})),b.lightbox=='1'&&(a('#wpgs-gallery .wcgs-carousel .wcgs-lightbox').length||a('#wpgs-gallery .wcgs-carousel').append('<div class="wcgs-lightbox top_right"><a href="javascript:;"><span class="sp_wgs-icon-search"></span></a></div>')),t=b.pagination_visibility=='hover',t&&(a("#wpgs-gallery .slick-dots").hide(),a("#wpgs-gallery .wcgs-carousel").on({mouseenter:function(){a("#wpgs-gallery .slick-dots").show()},mouseleave:function(){a("#wpgs-gallery .slick-dots").hide()}})),u=b.navigation_visibility=='hover',u&&(a("#wpgs-gallery .slick-arrow:not(.sp_wgs_thumb_nav)").hide(),a("#wpgs-gallery .wcgs-carousel").on({mouseenter:function(){a("#wpgs-gallery .slick-arrow:not(.sp_wgs_thumb_nav)").show()},mouseleave:function(){a("#wpgs-gallery .slick-arrow:not(.sp_wgs_thumb_nav)").hide()}})),v=b.thumb_nav_visibility=='hover',v&&(a("#wpgs-gallery .sp_wgs_thumb_nav").hide(),a("#wpgs-gallery .gallery-navigation-carousel").on({mouseenter:function(){a("#wpgs-gallery .sp_wgs_thumb_nav").show()},mouseleave:function(){a("#wpgs-gallery .sp_wgs_thumb_nav").hide()}})),w=b.preloader==1,w&&(a('.wcgs-gallery-preloader').length||a('#wpgs-gallery').append('<div class="wcgs-gallery-preloader"></div>'))}a('#wpgs-gallery').wpgspimagesLoaded().then(function(){a(".wcgs-gallery-preloader").css("opacity",0),a(".wcgs-gallery-preloader").css("z-index",-99)});function f(){a('.wcgs-slider-image, .wcgs-thumb').each(function(){var b=a(this).find('img').data('type');b&&a(this).append('<div class="video-icon"></div>')})}function i(){a('.wcgs-slider-image').on('mouseenter mouseleave',function(){a(this).attr('data-scale','1.5');var b=a(this).find('img').attr('src');a(this).attr('data-image',b)})}function e(){a('.wcgs-slider-image').on('mouseover',function(){a(this).children('.photo').css({transform:'scale('+a(this).attr('data-scale')+')',transition:'all .5s'})}).on('mouseout',function(){a(this).children('.photo').css({transform:'scale(1)',transition:'all .5s'})}).on('mousemove',function(b){a(this).children('.photo').css({'transform-origin':(b.pageX-a(this).offset().left)/a(this).width()*100+'% '+(b.pageY-a(this).offset().top)/a(this).height()*100+'%',transition:'transform 1s ease-in'})}).each(function(){var b=a(this).find('.photo').length;b===0&&a(this).append('<div class="photo"></div>'),a(this).children('.photo').css({'background-image':'url('+a(this).find('img').attr('src')+')'})})}function k(){if(a(window).width()<480&&b.mobile_zoom==1)return'';a(document).on('click','.wcgs-slider-image',function(){e()}),a(".wcgs-slider-image").on({mouseenter:function(){e()},mouseleave:function(){e()}})}function h(){var d=b.lightbox==1,c,e;d?(c=["zoom"],b.gallery_fs_btn==1&&c.push("fullScreen"),b.gallery_share==1&&c.push("share"),c.push("close"),a.fancybox.defaults.buttons=c,e=b.l_img_counter==1,a('.wcgs-carousel').fancybox({selector:'.wcgs-carousel .wcgs-slider-image:not(.slick-cloned)',backFocus:!1,baseClass:"wcgs-fancybox-custom-wrapper",caption:function(){var c='';return b.lightbox_caption==1&&(c=a(this).find('img').data('cap')||''),c},afterShow:function(b,c){a(".wcgs-fancybox-custom-wrapper~.elementor-lightbox").remove()},infobar:e,buttons:c,loop:!0})):a('.wcgs-carousel .wcgs-slider-image').removeAttr("data-fancybox href")}function j(){var e=b.gallery_width,f,h,i;d=e,c=100-e,a(window).width()>=992&&(c=c>20?c:'100%',a('#wpgs-gallery ~ .summary').css('maxWidth','calc('+c+'% - 30px)')),(a('body').hasClass('et_divi_builder')||a('body').hasClass('theme-Divi'))&&(f=a('.wcgs-gallery-slider.et-db #et-boc .et-l .et_pb_gutters3 .et_pb_column_1_2').width(),typeof f=="number"&&(d=f)),a('body').hasClass('theme-flatsome')&&(h=a('.single-product .product .row.content-row .product-gallery').width(),typeof h=="number"&&(d=h)),a('.woocommerce-product-gallery').parents('.hestia-product-image-wrap').length&&(i=a('.woocommerce-product-gallery').parents('.hestia-product-image-wrap').width(),typeof i=="number"&&(d=i)),a(window).width()<992&&b.gallery_responsive_width.width>0&&(d=b.gallery_responsive_width.width),a(window).width()<768&&(d=b.gallery_responsive_width.height),a(window).width()<480&&(d=b.gallery_responsive_width.height2),g(d)}j(),a(window).on("resize",function(){j()}),a(window).on("load",function(){a(".wcgs-gallery-preloader").css("opacity",0),a(".wcgs-gallery-preloader").css("z-index",-99)}),f(),wcgs_object.wcgs_settings.zoom=="1"&&(i(),k()),h(),a(document).on('change','.variations select',function(){var b={},c;a('.variations tr').each(function(e){var d=a(this).find('select').data('attribute_name'),c=a(this).find('select').val();c&&(b[d]=c)}),wcgs_object.wcgs_data.length>0?(c=wcgs_object.wcgs_data,a.each(c,function(n,c){var j=JSON.stringify(c[0])=='[]'?'{}':JSON.stringify(c[0]),e,m;j===JSON.stringify(b)&&(e=c[1],e.length>0&&(a('.wcgs-gallery-preloader').css('z-index',99),a('.wcgs-gallery-preloader').css('opacity',.5),typeof a.fn.slick=='function'?(a('.wcgs-carousel').slick('unslick'),a('.gallery-navigation-carousel').slick('unslick')):console.log('slick is not loaded'),a('#wpgs-gallery .wcgs-carousel > *, #wpgs-gallery .gallery-navigation-carousel > *').remove(),m=e,m.forEach(function(b,l){var d,j,k,c,i,h,g,f,e;b!=null&&(d=b.cap.length>0?b.cap:'',j=!!b.hasOwnProperty('video'),j?(k=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,c=b.video,k.test(c)?(i=c.indexOf('youtub')>-1,h=c.indexOf('vimeo')>-1,i&&(g=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,f=c.match(g),e=!!(f&&f[7].length==11)&&f[7],a('#wpgs-gallery .wcgs-carousel').append('<a class="wcgs-slider-image" href="'+c+'" data-fancybox="view"><div class="wcgs-iframe-wraper"><img style="visibility: hidden;" alt="'+d+'" data-videosrc="'+c+'" src="'+b.url+'" data-type="youtube" data-videoid="'+e+'" /><iframe frameborder="0"  src="https://www.youtube.com/embed/'+e+'" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true"></iframe></div></a>'),a('#wpgs-gallery .gallery-navigation-carousel').append('<div class="wcgs-thumb"><img alt="'+d+'" data-videosrc="'+c+'" src="'+b.thumb_url+'" data-type="youtube" data-videoid="'+e+'" /></div>')),h&&(g=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,f=c.match(g),e=f[5],a('#wpgs-gallery .wcgs-carousel').append('<a class="wcgs-slider-image" href="'+c+'" data-fancybox="view"><div class="wcgs-iframe-wraper"><img style="visibility: hidden;" alt="'+d+'" data-videosrc="'+c+'" src="'+b.url+'" data-type="vimeo" data-videoid="'+e+'" /><iframe src="https://player.vimeo.com/video/'+e+'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div></a>'),a('#wpgs-gallery .gallery-navigation-carousel').append('<div class="wcgs-thumb"><img alt="'+d+'" data-videosrc="'+c+'" src="'+b.thumb_url+'" data-type="vimeo" data-videoid="'+e+'"   /></div>')),!i&&!h&&(a('#wpgs-gallery .wcgs-carousel').append('<a class="wcgs-slider-image" href="'+c+'" data-fancybox="view"><div class="wcgs-iframe-wraper"><video controls><source src="'+c+'" type="video/mp4"></video><img  style="visibility: hidden;" alt="'+d+'" data-videosrc="'+c+'" src="'+b.url+'" data-type="html5video" data-videomp4="'+c+'" /></div></a>'),a('#wpgs-gallery .gallery-navigation-carousel').append('<div class="wcgs-thumb"><img alt="'+d+'" data-videosrc="'+c+'" src="'+b.thumb_url+'" data-type="html5video" data-videomp4="'+c+'" /></div>'))):(a('#wpgs-gallery .wcgs-carousel').append('<a class="wcgs-slider-image" href="'+b.url+'" data-fancybox="view"><img alt="'+d+'" src="'+b.url+'" data-image="'+b.url+'" /></a>'),a('#wpgs-gallery .gallery-navigation-carousel').append('<div class="wcgs-thumb"><img alt="'+d+'" src="'+b.thumb_url+'" data-image="'+b.url+'" /></div>'))):(a('#wpgs-gallery .wcgs-carousel').append('<a class="wcgs-slider-image" href="'+b.full_url+'" data-fancybox="view"><img alt="'+d+'" src="'+b.url+'" data-image="'+b.full_url+'" /></a>'),a('#wpgs-gallery .gallery-navigation-carousel').append('<div class="wcgs-thumb"><img alt="'+d+'" src="'+b.thumb_url+'" data-image="'+b.url+'" /></div>')))}),a('#wpgs-gallery').wpgspimagesLoaded().then(function(){g(d);var b=a('.wcgs-carousel .slick-list').height();b<50&&(b=a('.wcgs-carousel .slick-current').height(),a('.wcgs-carousel .slick-list').css('height',b)),setTimeout(function(){l(),wcgs_object.wcgs_settings.zoom=="1"&&(i(),k()),f(),h(),a('.wcgs-gallery-preloader').css('z-index',-99),a('.wcgs-gallery-preloader').css('opacity',0)},200)})))})):console.log('gallery-attr length:'+a(document).find('.wpgs-gallery-attr').length)});function l(){var c=b.lightbox==1,d=a("#wpgs-gallery").find('.gallery-navigation-carousel .wcgs-slider-image:not(.slick-cloned)').length;c&&d>1&&a('.wcgs-carousel').on('afterChange',function(c,d,b,e){a('.wcgs-lightbox a').attr('data-fancybox-index',b+1)})}a(function(){l()}),a(document).on('click','.wcgs-gallery-slider .variations .select-option.swatch-wrapper',function(e){var b=a(this),c=b.closest('div.select').eq(0),d=c.find('select').first();d.trigger('change')})})})(jQuery)