/*!
 * Time picker for pickadate.js v3.6.2
 * http://amsul.github.io/pickadate.js/time.htm
 */(function(a){typeof define=='function'&&define.amd?define(['./picker','jquery'],a):typeof exports=='object'?module.exports=a(require('./picker.js'),require('jquery')):a(Picker,jQuery)})(function(h,c){var f=24,d=60,g=12,e=f*d,a=h._;function b(c,b){var a=this,f=c.$node[0].value,d=c.$node.data('value'),e=d||f,g=d?b.formatSubmit:b.format;a.settings=b,a.$node=c.$node,a.queue={interval:'i',min:'measure create',max:'measure create',now:'now create',select:'parse create validate',highlight:'parse create validate',view:'parse create validate',disable:'deactivate',enable:'activate'},a.item={},a.item.clear=null,a.item.interval=b.interval||30,a.item.disable=(b.disable||[]).slice(0),a.item.enable=-function(a){return a[0]===!0?a.shift():-1}(a.item.disable),a.set('min',b.min).set('max',b.max).set('now'),e?a.set('select',e,{format:g}):a.set('select',null).set('highlight',a.item.now),a.key={40:1,38:-1,39:1,37:-1,go:function(b){a.set('highlight',a.item.highlight.pick+b*a.item.interval,{interval:b*a.item.interval}),this.render()}},c.on('render',function(){var a=c.$root.children(),d=a.find('.'+b.klass.viewset),e=function(a){return['webkit','moz','ms','o',''].map(function(b){return(b?'-'+b+'-':'')+a})},f=function(a,b){e('transform').map(function(c){a.css(c,b)}),e('transition').map(function(c){a.css(c,b)})};d.length&&(f(a,'none'),a[0].scrollTop=~~d.position().top-d[0].clientHeight*2,f(a,''))},1).on('open',function(){c.$root.find('button').attr('disabled',!1)},1).on('close',function(){c.$root.find('button').attr('disabled',!0)},1)}b.prototype.set=function(a,e,d){var b=this,c=b.item;return e===null?(a=='clear'&&(a='select'),c[a]=e,b):(c[a=='enable'?'disable':a=='flip'?'enable':a]=b.queue[a].split(' ').map(function(c){return e=b[c](a,e,d),e}).pop(),a=='select'?b.set('highlight',c.select,d):a=='highlight'?b.set('view',c.highlight,d):a=='interval'?b.set('min',c.min,d).set('max',c.max,d):a.match(/^(flip|min|max|disable|enable)$/)&&(c.select&&b.disabled(c.select)&&b.set('select',e,d),c.highlight&&b.disabled(c.highlight)&&b.set('highlight',e,d),a=='min'&&b.set('max',c.max,d)),b)},b.prototype.get=function(a){return this.item[a]},b.prototype.create=function(g,b,i){var h=this;return b=b===void 0?g:b,a.isDate(b)&&(b=[b.getHours(),b.getMinutes()]),c.isPlainObject(b)&&a.isInteger(b.pick)?b=b.pick:c.isArray(b)?b=+b[0]*d+ +b[1]:a.isInteger(b)||(b=h.now(g,b,i)),g=='max'&&b<h.item.min.pick&&(b+=e),g!='min'&&g!='max'&&(b-h.item.min.pick)%h.item.interval!==0&&(b+=h.item.interval),b=h.normalize(g,b,i),{hour:~~(f+b/d)%f,mins:(d+b%d)%d,time:(e+b)%e,pick:b%e}},b.prototype.createRange=function(b,d){var f=this,e=function(b){return b===!0||c.isArray(b)||a.isDate(b)?f.create(b):b};return a.isInteger(b)||(b=e(b)),a.isInteger(d)||(d=e(d)),a.isInteger(b)&&c.isPlainObject(d)?b=[d.hour,d.mins+b*f.settings.interval]:a.isInteger(d)&&c.isPlainObject(b)&&(d=[b.hour,b.mins+d*f.settings.interval]),{from:e(b),to:e(d)}},b.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},b.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},b.prototype.now=function(h,c){var e=this.item.interval,g=new Date,b=g.getHours()*d+g.getMinutes(),i=a.isInteger(c),f;return b-=b%e,f=c<0&&e*c+b<=-e,b+=h=='min'&&f?0:e,i&&(b+=e*(f&&h!='max'?c+1:c)),b},b.prototype.normalize=function(b,a){var c=this.item.interval,d=this.item.min&&this.item.min.pick||0;return a-=b=='min'?0:(a-d)%c,a},b.prototype.measure=function(e,b,h){var g=this;return b||(b=e=='min'?[0,0]:[f-1,d-1]),typeof b=='string'?b=g.parse(e,b):b===!0||a.isInteger(b)?b=g.now(e,b,h):c.isPlainObject(b)&&a.isInteger(b.pick)&&(b=g.normalize(e,b.pick,h)),b},b.prototype.validate=function(e,a,c){var b=this,d=c&&c.interval?c.interval:b.item.interval;return b.disabled(a)&&(a=b.shift(a,d)),a=b.scope(a),b.disabled(a)&&(a=b.shift(a,d*-1)),a},b.prototype.disabled=function(d){var b=this,e=b.item.disable.filter(function(e){if(a.isInteger(e))return d.hour==e;if(c.isArray(e)||a.isDate(e))return d.pick==b.create(e).pick;if(c.isPlainObject(e))return b.withinRange(e,d)});return e=e.length&&!e.filter(function(a){return c.isArray(a)&&a[2]=='inverted'||c.isPlainObject(a)&&a.inverted}).length,b.item.enable===-1?!e:e||d.pick<b.item.min.pick||d.pick>b.item.max.pick},b.prototype.shift=function(a,c){var b=this,d=b.item.min.pick,e=b.item.max.pick;for(c=c||b.item.interval;b.disabled(a);)if(a=b.create(a.pick+=c),a.pick<=d||a.pick>=e)break;return a},b.prototype.scope=function(a){var b=this.item.min.pick,c=this.item.max.pick;return this.create(a.pick>c?c:a.pick<b?b:a)},b.prototype.parse=function(l,c,e){var i,j,k,b,g,h=this,f={};if(!c||typeof c!='string')return c;e&&e.format||(e=e||{},e.format=h.settings.format),h.formats.toArray(e.format).map(function(d){var b,e=h.formats[d],g=e?a.trigger(e,h,[c,f]):d.replace(/^!/,'').length;e&&(b=c.substr(0,g),f[d]=b.match(/^\d+$/)?+b:b),c=c.substr(g)});for(b in f)g=f[b],a.isInteger(g)?b.match(/^(h|hh)$/i)?(i=g,(b=='h'||b=='hh')&&(i%=12)):b=='i'&&(j=g):b.match(/^a$/i)&&g.match(/^p/i)&&('h'in f||'hh'in f)&&(k=!0);return(k?i+12:i)*d+j},b.prototype.formats={h:function(b,c){return b?a.digits(b):c.hour%g||g},hh:function(b,c){return b?2:a.lead(c.hour%g||g)},H:function(b,c){return b?a.digits(b):''+c.hour%24},HH:function(b,c){return b?a.digits(b):a.lead(c.hour%24)},i:function(b,c){return b?2:a.lead(c.mins)},a:function(a,b){return a?4:e/2>b.time%e?'a.m.':'p.m.'},A:function(a,b){return a?2:e/2>b.time%e?'AM':'PM'},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(c,d){var b=this;return b.formats.toArray(c).map(function(c){return a.trigger(b.formats[c],b,[0,d])||c.replace(/^!/,'')}).join('')}},b.prototype.isTimeExact=function(b,d){var e=this;return a.isInteger(b)&&a.isInteger(d)||typeof b=='boolean'&&typeof d=='boolean'?b===d:(a.isDate(b)||c.isArray(b))&&(a.isDate(d)||c.isArray(d))?e.create(b).pick===e.create(d).pick:!!(c.isPlainObject(b)&&c.isPlainObject(d))&&e.isTimeExact(b.from,d.from)&&e.isTimeExact(b.to,d.to)},b.prototype.isTimeOverlap=function(b,d){var e=this;return a.isInteger(b)&&(a.isDate(d)||c.isArray(d))?b===e.create(d).hour:a.isInteger(d)&&(a.isDate(b)||c.isArray(b))?d===e.create(b).hour:!!(c.isPlainObject(b)&&c.isPlainObject(d))&&e.overlapRanges(b,d)},b.prototype.flipEnable=function(b){var a=this.item;a.enable=b||(a.enable==-1?1:-1)},b.prototype.deactivate=function(f,e){var d=this,b=d.item.disable.slice(0);return e=='flip'?d.flipEnable():e===!1?(d.flipEnable(1),b=[]):e===!0?(d.flipEnable(-1),b=[]):e.map(function(e){for(var f=0,g;f<b.length;f+=1)if(d.isTimeExact(e,b[f])){g=!0;break}g||(a.isInteger(e)||a.isDate(e)||c.isArray(e)||c.isPlainObject(e)&&e.from&&e.to)&&b.push(e)}),b},b.prototype.activate=function(g,e){var d=this,b=d.item.disable,f=b.length;return e=='flip'?d.flipEnable():e===!0?(d.flipEnable(1),b=[]):e===!1?(d.flipEnable(-1),b=[]):e.map(function(g){var h,i,e,j;for(e=0;e<f;e+=1){if(i=b[e],d.isTimeExact(i,g)){h=b[e]=null,j=!0;break}if(d.isTimeOverlap(i,g)){c.isPlainObject(g)?(g.inverted=!0,h=g):c.isArray(g)?(h=g,h[2]||h.push('inverted')):a.isDate(g)&&(h=[g.getFullYear(),g.getMonth(),g.getDate(),'inverted']);break}}if(h)for(e=0;e<f;e+=1)if(d.isTimeExact(b[e],g)){b[e]=null;break}if(j)for(e=0;e<f;e+=1)if(d.isTimeOverlap(b[e],g)){b[e]=null;break}h&&b.push(h)}),b.filter(function(a){return a!=null})},b.prototype.i=function(c,b){return a.isInteger(b)&&b>0?b:this.item.interval},b.prototype.nodes=function(g){var b=this,c=b.settings,d=b.item.select,e=b.item.highlight,f=b.item.view,h=b.item.disable;return a.node('ul',a.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:'li',item:function(g){g=b.create(g);var i=g.pick,j=d&&d.pick==i,k=e&&e.pick==i,l=h&&b.disabled(g),m=a.trigger(b.formats.toString,b,[c.format,g]);return[a.trigger(b.formats.toString,b,[a.trigger(c.formatLabel,b,[g])||c.format,g]),function(a){return j&&a.push(c.klass.selected),k&&a.push(c.klass.highlighted),f&&f.pick==i&&a.push(c.klass.viewset),l&&a.push(c.klass.disabled),a.join(' ')}([c.klass.listItem]),'data-pick='+g.pick+' '+a.ariaAttr({role:'option',label:m,selected:!!(j&&b.$node.val()===m)||null,activedescendant:!!k||null,disabled:!!l||null})]}})+a.node('li',a.node('button',c.clear,c.klass.buttonClear,'type=button data-clear=1'+(g?'':' disabled')+' '+a.ariaAttr({controls:b.$node[0].id})),'',a.ariaAttr({role:'presentation'})),c.klass.list,a.ariaAttr({role:'listbox',controls:b.$node[0].id}))},b.defaults=function(a){return{clear:'Clear',format:'h:i A',interval:30,closeOnSelect:!0,closeOnClear:!0,updateInput:!0,klass:{picker:a+' '+a+'--time',holder:a+'__holder',list:a+'__list',listItem:a+'__list-item',disabled:a+'__list-item--disabled',selected:a+'__list-item--selected',highlighted:a+'__list-item--highlighted',viewset:a+'__list-item--viewset',now:a+'__list-item--now',buttonClear:a+'__button--clear'}}}(h.klasses().picker),h.extend('pickatime',b)})